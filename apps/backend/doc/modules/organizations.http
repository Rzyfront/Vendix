#  ORGANIZATIONS MODULE
# Self-management module for organizations (Organization domain)

@baseUrl = http://localhost:3000/api/organizations
@authToken = Bearer YOUR_JWT_TOKEN_HERE

###

# =================================================================
#  ORGANIZATION SELF-MANAGEMENT
# Domain: /organizations (Organization self-management)
# Scope: Solo para autogestion de la propia organizaci贸n del usuario
# =================================================================

### Get Organization Profile
# Obtiene el perfil de la organizaci贸n del usuario autenticado
# Usa RequestContextService para obtener automaticamente el organization_id del contexto
GET {{baseUrl}}/profile
Content-Type: application/json
Authorization: {{authToken}}

# Returns: {
#   id: number,
#   name: string,
#   email: string,
#   slug: string,
#   addresses: [...],
#   onboarding: {...},
#   created_at: string,
#   updated_at: string
# }

### Update Organization Profile
# Actualiza los datos de la propia organizaci贸n del usuario
# Solo puede modificar su propia organizaci贸n basada en el contexto
PATCH {{baseUrl}}/profile
Content-Type: application/json
Authorization: {{authToken}}

{
  "name": "Updated Organization Name",
  "email": "updated@organization.com",
  "legal_name": "Organization Legal Name Ltd",
  "phone": "+1234567890",
  "website": "https://updated-organization.com",
  "description": "Updated description for the organization"
}

### Get Organization Dashboard
# Obtiene estad铆sticas del dashboard de la organizaci贸n del usuario
# Incluye m茅tricas consolidadas con filtrado opcional por store
GET {{baseUrl}}/dashboard
Content-Type: application/json
Authorization: {{authToken}}

### Get Organization Dashboard (con filtro de store)
# Dashboard con estad铆sticas filtradas por una store espec铆fica
GET {{baseUrl}}/dashboard?store_id=123
Content-Type: application/json
Authorization: {{authToken}}

# Returns: {
#   organization_id: number,
#   store_filter: number | undefined,
#   stats: {
#     total_stores: {
#       value: number,
#       sub_value: number,
#       sub_label: "new this month"
#     },
#     active_users: {
#       value: number,
#       sub_value: null,
#       sub_label: "active users"
#     },
#     monthly_orders: {
#       value: number,
#       sub_value: number,
#       sub_label: "orders today"
#     },
#     revenue: {
#       value: number,
#       sub_value: number,
#       sub_label: "vs last month"
#     }
#   }
# }

# =================================================================
#  TESTING NOTES
# =================================================================

# Security Context:
# - Todos los endpoints usan automaticamente el organization_id del RequestContextService
# - No es necesario pasar organization_id - se obtiene del token/contexto del usuario
# - Una organizaci贸n solo puede acceder a sus propios datos

# Superadmin endpoints est谩n en: /superadmin/organizations
# Store management endpoints est谩n en: /stores
