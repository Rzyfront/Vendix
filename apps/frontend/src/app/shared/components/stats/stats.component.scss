:host {
  display: block;

  // Mobile: Fixed width for horizontal scroll container
  @media (max-width: 639px) {
    width: 160px; // w-40
    flex-shrink: 0;
  }
}

// ============================================
// STAT CARD - Mobile-First Horizontal Scroll Design
// ============================================

.stat-card {
  @apply bg-surface rounded-2xl shadow-sm border border-border transition-shadow overflow-hidden;

  // Desktop layout: horizontal with icon on right
  @apply p-3.5 flex items-center;

  // Mobile layout (< 640px): Block layout with icon in corner
  @media (max-width: 639px) {
    @apply p-3 block relative w-full h-full;
  }
}

// ============================================
// ICON
// ============================================

.stat-icon {
  @apply rounded-xl flex items-center justify-center flex-shrink-0;

  // Desktop: compact icon container on right (use order to move visually)
  @apply w-8 h-8 ml-1.5 order-2;

  // Mobile: absolute positioning in top-right corner, inline with title
  @media (max-width: 639px) {
    @apply absolute top-3 right-3 w-auto h-auto ml-0 order-none bg-transparent !important;

    app-icon {
      @apply text-lg;
    }
  }
}

// ============================================
// CONTENT
// ============================================

.stat-content {
  @apply flex-1 overflow-hidden order-1;
  min-width: 0;

  @media (max-width: 639px) {
    @apply order-none;
  }
}

// ============================================
// TITLE
// ============================================

.stat-title {
  @apply text-xs font-medium text-text-secondary;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;

  // Mobile: uppercase bold like reference design
  @media (max-width: 639px) {
    @apply text-[10px] font-bold uppercase tracking-wide;
    max-width: calc(100% - 24px); // Leave space for icon
  }
}

// ============================================
// VALUE
// ============================================

.stat-value {
  @apply text-xl font-bold text-text-primary mt-0.5;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;

  // Mobile: same size as reference
  @media (max-width: 639px) {
    @apply text-xl mt-1;
  }
}

// ============================================
// SMALL TEXT (optional subtitle/description)
// ============================================

.stat-small {
  @apply text-[10px] font-medium mt-1;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;

  // Mobile: emerald color for positive growth like reference
  @media (max-width: 639px) {
    @apply text-[10px] mt-0.5 text-emerald-500;
  }
}

// ============================================
// SKELETON LOADER (Shimmer Effect)
// ============================================

@keyframes skeleton-loading {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

@mixin shimmer {
  background: linear-gradient(
    90deg,
    var(--color-background) 25%,
    var(--color-border) 50%,
    var(--color-background) 75%
  );
  background-size: 200% 100%;
  animation: skeleton-loading 1.5s infinite;
  border-radius: var(--radius-sm);
}

.stat-skeleton {
  // Desktop: horizontal layout matching real card
  .skeleton-icon {
    @apply w-8 h-8 rounded-xl flex-shrink-0 ml-1.5 order-2;
    @include shimmer;

    @media (max-width: 639px) {
      @apply absolute top-3 right-3 w-5 h-5 ml-0 order-none;
    }
  }

  .skeleton-content {
    @apply flex-1 flex flex-col gap-1.5 order-1;
    min-width: 0;

    @media (max-width: 639px) {
      @apply order-none;
    }
  }

  .skeleton-title {
    width: 60%;
    height: 12px;
    @include shimmer;

    @media (max-width: 639px) {
      width: 50%;
      height: 10px;
    }
  }

  .skeleton-value {
    width: 45%;
    height: 24px;
    @include shimmer;

    @media (max-width: 639px) {
      width: 55%;
      height: 22px;
    }
  }

  .skeleton-small {
    width: 35%;
    height: 10px;
    @include shimmer;

    @media (max-width: 639px) {
      width: 40%;
    }
  }
}
