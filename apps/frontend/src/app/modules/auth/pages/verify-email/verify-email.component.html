<div class="verify-email-container" [style.background]="getBackgroundGradient()">
  <div class="verify-email-card">
    <app-card>
      <div class="verify-email-content">
        <!-- Loading State -->
        <div *ngIf="isLoading" class="loading-state">
          <div class="loading-spinner"></div>
          <h1 class="title">Verificando Email</h1>
          <p class="subtitle">Por favor espera mientras verificamos tu dirección de email...</p>
        </div>

        <!-- Success State -->
        <div *ngIf="!isLoading && isSuccess" class="success-state">
          <div class="success-icon">
            <svg class="checkmark" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
            </svg>
          </div>
          <h1 class="title">¡Email Verificado!</h1>
          <p class="subtitle">Tu dirección de email ha sido verificada exitosamente. Ya puedes iniciar sesión en tu cuenta.</p>

          <button
            class="action-btn"
            [style.background-color]="primaryColor"
            [style.border-color]="primaryColor"
            (click)="goToLogin()"
          >
            Ir al Inicio de Sesión
          </button>

          <p class="redirect-notice">Serás redirigido automáticamente en unos segundos...</p>
        </div>

        <!-- Error State -->
        <div *ngIf="!isLoading && !isSuccess && errorMessage" class="error-state">
          <div class="error-icon">
            <svg class="exclamation" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
            </svg>
          </div>
          <h1 class="title">Verificación Fallida</h1>
          <p class="subtitle">{{ errorMessage }}</p>

          <div class="actions">
            <button
              class="action-btn primary"
              [style.background-color]="primaryColor"
              [style.border-color]="primaryColor"
              (click)="resendVerification()"
            >
              Solicitar Nuevo Enlace
            </button>

            <button
              class="action-btn secondary"
              [style.color]="brandingColors.primary"
              [style.border-color]="primaryColor"
              (click)="goToLogin()"
            >
              Ir al Inicio de Sesión
            </button>
          </div>
        </div>

        <!-- Invalid Token State -->
        <div *ngIf="!isLoading && !token" class="error-state">
          <div class="error-icon">
            <svg class="exclamation" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
            </svg>
          </div>
          <h1 class="title">Enlace Inválido</h1>
          <p class="subtitle">El enlace de verificación no es válido o ha expirado.</p>

          <button
            class="action-btn"
            [style.background-color]="primaryColor"
            [style.border-color]="primaryColor"
            (click)="goToLogin()"
          >
            Ir al Inicio de Sesión
          </button>
        </div>
      </div>
    </app-card>
  </div>
</div>