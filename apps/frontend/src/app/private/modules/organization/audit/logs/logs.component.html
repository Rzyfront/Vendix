<div class="space-y-6">
  <!-- Logs List -->
  <div class="bg-surface rounded-card shadow-card border border-border">
    <div class="px-6 py-4 border-b border-border">
      <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4">
        <div class="flex-1 min-w-0">
          <h2 class="text-lg font-semibold text-text-primary">
            Audit Logs ({{ logs.length }})
          </h2>
        </div>
        
        <div class="flex flex-col sm:flex-row items-stretch sm:items-center gap-3 w-full sm:w-auto">
          <!-- Input de búsqueda compacto -->
          <app-inputsearch
            class="w-full sm:w-64"
            size="sm"
            placeholder="Search logs..."
            [debounceTime]="1000"
            (searchChange)="onSearchChange($event)"
          ></app-inputsearch>
          
          <!-- Filtro de módulo -->
          <select
            class="px-3 py-2 border border-border rounded-input focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary bg-surface text-text-primary text-sm"
            (change)="onModuleChange($event)"
            [value]="selectedModule">
            <option value="">All Modules</option>
            <option value="users">Users</option>
            <option value="orders">Orders</option>
            <option value="products">Products</option>
            <option value="stores">Stores</option>
            <option value="inventory">Inventory</option>
          </select>

          <!-- Filtro de severidad -->
          <select
            class="px-3 py-2 border border-border rounded-input focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary bg-surface text-text-primary text-sm"
            (change)="onSeverityChange($event)"
            [value]="selectedSeverity">
            <option value="">All Severities</option>
            <option value="low">Low</option>
            <option value="medium">Medium</option>
            <option value="high">High</option>
            <option value="critical">Critical</option>
          </select>

          <!-- Filtro de fecha desde -->
          <input
            type="datetime-local"
            class="px-3 py-2 border border-border rounded-input focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary bg-surface text-text-primary text-sm"
            (change)="onDateFromChange($event)"
            [value]="selectedDateFrom"
            placeholder="From"
          />

          <!-- Filtro de fecha hasta -->
          <input
            type="datetime-local"
            class="px-3 py-2 border border-border rounded-input focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary bg-surface text-text-primary text-sm"
            (change)="onDateToChange($event)"
            [value]="selectedDateTo"
            placeholder="To"
          />
          
          <div class="flex gap-2 items-center">
            <app-button
              variant="outline"
              size="sm"
              (clicked)="refreshLogs()"
              [disabled]="isLoading"
              title="Refresh"
            >
              <app-icon name="refresh" [size]="16" slot="icon"></app-icon>
            </app-button>
            <app-button
              variant="outline"
              size="sm"
              (clicked)="exportLogs()"
              [disabled]="isLoading"
              title="Export"
            >
              <app-icon name="download" [size]="16" slot="icon"></app-icon>
              <span class="hidden sm:inline">Export</span>
            </app-button>
          </div>
        </div>
      </div>
    </div>

    <!-- Loading State -->
    <div *ngIf="isLoading" class="p-8 text-center">
      <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>
      <p class="mt-2 text-text-secondary">Loading audit logs...</p>
    </div>

    <!-- Empty State -->
    <div *ngIf="!isLoading && logs.length === 0" class="p-8 text-center">
      <app-icon name="file-text" [size]="48" class="text-text-secondary mx-auto mb-4"></app-icon>
      <h3 class="text-lg font-medium text-text-primary mb-2">{{ getEmptyStateTitle() }}</h3>
      <p class="text-text-secondary mb-4">{{ getEmptyStateDescription() }}</p>
      <div *ngIf="hasFilters" class="flex gap-2 justify-center">
        <app-button
          variant="outline"
          size="sm"
          (clicked)="clearFilters()"
        >
          Clear Filters
        </app-button>
        <app-button
          variant="primary"
          size="sm"
          (clicked)="refreshLogs()"
        >
          Refresh
        </app-button>
      </div>
    </div>

    <!-- Logs Table -->
    <div *ngIf="!isLoading && logs.length > 0" class="p-6">
      <app-table
        [data]="logs"
        [columns]="tableColumns"
        [actions]="tableActions"
        [loading]="isLoading"
        [sortable]="true"
        [hoverable]="true"
        [striped]="true"
        size="md"
        (sort)="onTableSort($event)"
        (rowClick)="viewLogDetails($event)">
      </app-table>
    </div>
  </div>
</div>