<div class="w-full">
  <!-- Stats: Sticky on mobile, static on desktop -->
  <div class="stats-container !mb-0 md:!mb-8 sticky top-0 z-20 bg-background md:static md:bg-transparent">
    <app-purchase-order-stats [stats]="stats"></app-purchase-order-stats>
  </div>

  <!-- Purchase Orders List (owns search, filters, loading, empty state) -->
  <app-purchase-order-list
    (viewOrder)="viewOrderDetails($event)"
    (create)="createOrder()"
    (refresh)="refreshList()"
    (statsUpdated)="onStatsUpdated($any($event))"
  ></app-purchase-order-list>

  <!-- Detail Modal (keep in parent for navigation context) -->
  <app-purchase-order-detail-modal
    [isOpen]="isDetailModalOpen"
    [order]="selectedOrder"
    (close)="closeDetailModal()"
    (receive)="onReceiveOrder($event)"
    (cancel)="onCancelOrder($event)"
    (edit)="onEditOrder($event)"
  ></app-purchase-order-detail-modal>
</div>
