{
  "$schema": "https://opencode.ai/config.json",
  "plugin": ["opencode-anthropic-auth"],
  "theme": "rzyfront",
  "autoupdate": true,
  "agent": {
    "primary": {
      "mode": "primary",
      "description": "Vendix AI Agent Skills System",
      "prompt": "You are a helpful AI assistant. Always consult AGENTS.md for project-specific rules and skills.\n\n# Vendix AI Agent Skills System\\n\\n> **Single Source of Truth** - This file is the master for all AI assistants.\\n> Run `./skills/setup.sh --sync` to synchronize skills to provider-specific locations.\\n\\nThis repository provides AI agent skills for working with Vendix.\\nSkills provide on-demand context and patterns for this codebase.\\n\\n### Auto-invoke Skills\\n\\nWhen performing these actions, ALWAYS invoke the corresponding skill FIRST:\\n\\n| Action | Skill |\\n|--------|-------|\\n| \"revisar PR\", \"review PR\", \"analizar PR\", \"code review\", \"revisar pull request\" | `pr-code-review` |\\n| -- | `git-workflow` |\\n| -- | `vendix-monorepo-workspaces` |\\n| -- | `vendix-prisma-scopes` |\\n| Adding new models to domain scopes | `vendix-prisma-scopes` |\\n| Adding/removing workspaces | `vendix-monorepo-workspaces` |\\n| After creating/modifying a skill | `skill-sync` |\\n| Configuring CI/CD | `vendix-monorepo-workspaces` |\\n| Configuring middleware | `vendix-backend-middleware` |\\n| Creating API endpoints | `vendix-backend-api` |\\n| Creating API tests (Bruno) | `vendix-bruno-test` |\\n| Creating Angular components | `vendix-frontend-component` |\\n| Creating Dockerfiles | `vendix-monorepo-workspaces` |\\n| Creating Frontend Modules | `vendix-frontend-module` |\\n| Creating Seeds | `vendix-prisma-seed` |\\n| Creating or modifying modals in frontend | `vendix-frontend-modal` |\\n| Creating or refactoring standard admin modules (stats + table) | `vendix-frontend-standard-module` |\\n| Debugging Forbidden errors in Prisma queries | `vendix-prisma-scopes` |\\n| Designing UI screens, mobile-first layouts, accessibility review, landing pages, UX patterns | `vendix-ui-ux` |\\n| Editing Schema | `vendix-prisma-schema` |\\n| Fixing Forbidden/403 errors in scoped services | `vendix-multi-tenant-context` |\\n| General Development | `vendix-development-rules` |\\n| Handling Errors | `vendix-error-handling` |\\n| Handling store context | `vendix-multi-tenant-context` |\\n| Implementing authentication | `vendix-backend-auth` |\\n| Implementing multi-tenant logic | `vendix-multi-tenant-context` |\\n| Implementing stats cards or dashboard metrics with mobile scroll | `vendix-frontend-stats-cards` |\\n| Installing dependencies | `vendix-monorepo-workspaces` |\\n| Managing Routes | `vendix-frontend-routing` |\\n| Managing State | `vendix-frontend-state` |\\n| Modifying package.json | `vendix-monorepo-workspaces` |\\n| Regenerate AGENTS.md Auto-invoke tables (sync.sh) | `skill-sync` |\\n| Styling and Theming | `vendix-frontend-theme` |\\n| Troubleshoot why a skill is missing from AGENTS.md auto-invoke | `skill-sync` |\\n| Understanding Public/Private Apps and Domains | `vendix-app-architecture` |\\n| Uploading files, handling S3 URLs, or saving image URLs to database | `vendix-s3-storage` |\\n| Verifying Build | `buildcheck-dev` |\\n| Working on backend domains | `vendix-backend-domain` |\\n| Working on frontend domains | `vendix-frontend-domain` |\\n| Working with Prisma scoped services | `vendix-prisma-scopes` |\\n| Working with notifications, SSE, or adding new event-driven alerts | `vendix-notifications-system` |\\n| Writing Code (Naming) | `vendix-naming-conventions` |\\n| Writing Validation Logic | `vendix-validation` |\\n| cambios con migraciones de base de datos | `git-workflow` |\\n| git commit, git push, crear PR, crear rama | `git-workflow` |\\n| resolver conflictos de merge | `git-workflow` |\\n\\n---\\n\\n## üó£Ô∏è Language & Communication\\n\\n**CRITICAL PROTOCOL:** The model must **ALWAYS** detect the language used by the user and respond in the same language.\\n\\n- **User speaks English** ‚Üí Respond in English.\\n- **User speaks Spanish** ‚Üí Respond in Spanish.\\n- **User speaks French** ‚Üí Respond in French.\\n- _(Adapt to any language used by the user)_\\n\\n## üöÄ Quick Start\\n\\n### How Skills Work\\n\\n1. **Auto-detection:** AI detects context and loads appropriate skills\\n2. **Composition:** Multiple skills can be active simultaneously\\n3. **Priority:** CORE skills have absolute priority and must ALWAYS be respected\\n\\n## üö® CORE SKILLS - Always Active\\n\\n**These skills contain the MOST CRITICAL rules that must ALWAYS be respected:**\\n\\n| Skill                 | Trigger             | Priority     | Description                           |\\n| --------------------- | ------------------- | ------------ | ------------------------------------- |\\n| **`Vendix-core`**     | **ALWAYS**          | **CRITICAL** | Core patterns and conventions         |\\n| **`git-workflow`**    | **ALWAYS**          | **CRITICAL** | Git commit, PR, branching and conflict rules |\\n| **`knowledge-gap`**   | **UNKNOWN PATTERN** | **HIGH**     | Protocol for new/undefined patterns   |\\n\\n**‚ö†Ô∏è IMPORTANT:** NEVER compromise these rules. They are the foundation of the project.\\n\\n## üß¨ Protocol for New Patterns (MANDATORY)\\n\\n**IF** you develop a new feature, architecture, or pattern that is **NOT** covered by existing skills or documentation:\\n\\n1. **IDENTIFY:** Recognize that you are introducing a new standard or pattern.\\n2. **PROPOSE:** You **MUST** ask the user if they wish to create a new skill for this pattern.\\n3. **STANDARDIZE:** If agreed, suggest the structure for the new skill (Description, Trigger, Code Examples).\\n\\n> **AI Instruction:** _\"I notice we are implementing a new pattern for [Concept]. Should we create a skill for this to maintain future consistency?\"_ (Translate this question to the user's language).\\n\\n## üîß Architecture & Patterns\\n\\n### Repository-Specific Skills\\n\\n| Skill                    | Description                                             | Location (Source)                                                                |\\n| ------------------------ | ------------------------------------------------------- | -------------------------------------------------------------------------------- |\\n| `Vendix-core`            | Core patterns and conventions                           | [skills/Vendix-core/SKILL.md](skills/Vendix-core/SKILL.md)                       |\\n| `vendix-product-pricing` | Advanced product pricing logic and rentability patterns | [skills/vendix-product-pricing/SKILL.md](skills/vendix-product-pricing/SKILL.md) |\\n\\n## ‚öôÔ∏è Configuration & Sync\\n\\nEach AI provider requires specific configuration paths. Run `./skills/setup.sh` to sync to these locations:\\n\\n| Provider           | Config File                       | Skill Location                     |\\n| ------------------ | --------------------------------- | ---------------------------------- |\\n| **OpenCode**       | `opencode.json`                   | `.opencode/skills/<name>/SKILL.md` |\\n| **Claude Code**    | `CLAUDE.md`                       | `.claude/skills/<name>/SKILL.md`   |\\n| **Gemini**         | `GEMINI.md`                       | `.agent/skills/<name>/SKILL.md`    |\\n| **GitHub Copilot** | `.github/copilot-instructions.md` | N/A (Embedded in instructions)     |\\n\\n## üéØ Auto-Invoke Rules\\n\\n### Development Workflow\\n\\n**ALWAYS invoke skills in this order:**\\n\\n1. **CORE Skills** (Always Active)\\n   - Check `Vendix-core` for fundamental rules\\n\\n2. **Context-Specific Skills**\\n   - Check available skills in `skills/` (or provider-specific folders)\\n\\n## üîÑ Sync & Setup\\n\\n### Sync Skills to AI Tools\\n\\n```bash\\n./skills/setup.sh --sync\\n```\\n\\n### Regenerate Config Files\\n\\n```bash\\n./skills/setup.sh --all        # All formats\\n./skills/setup.sh --claude     # Claude Code only\\n./skills/setup.sh --copilot    # GitHub Copilot only\\n./skills/setup.sh --gemini     # Gemini only\\n./skills/setup.sh --opencode   # OpenCode only\\n```",
      "tools": {
        "write": true,
        "edit": true,
        "bash": true
      }
    }
  }
}
